/* ATS Code Block - Language-specific overrides */
/* Base styles in code-block-base.css (loaded globally) */

/* ATS-specific accent border */
.ats-code-block {
    border-left: 3px solid var(--ats-editor-border-accent);
}

/* ATS language badge */
.ats-code-block::before {
    content: 'ats';
    color: var(--ats-editor-badge-color);
    text-transform: uppercase;
}

/* ATS-specific selection outline */
.ats-code-block.ProseMirror-selectednode {
    outline-color: var(--ats-editor-border-accent);
}

/* ============================================================================
   Execution State Indicators
   Uses data-execution-state attribute for cleaner state management
   ============================================================================ */

/* Base wrapper styles - ensure border is visible */
.ats-code-block-wrapper {
    border-left: 3px solid var(--ats-editor-border-accent);
    transition: border-color 0.2s ease;
}

/* Idle state - default styling (job scheduled, waiting for next run) */
.ats-code-block-wrapper[data-execution-state="idle"] {
    border-left-color: var(--ats-editor-border-accent);
}

/* Running state - blue border (execution in progress) */
.ats-code-block-wrapper[data-execution-state="running"] {
    border-left-color: var(--accent-blue, #3b82f6);
}

/* Completed state - green border (last execution succeeded) */
.ats-code-block-wrapper[data-execution-state="completed"] {
    border-left-color: var(--accent-green, #22c55e);
}

/* Failed state - red border (last execution failed) */
.ats-code-block-wrapper[data-execution-state="failed"] {
    border-left-color: var(--accent-red, #ef4444);
}

/* ============================================================================
   Prompt Inspect Button
   Shown when ATS code contains "so prompt" action
   ============================================================================ */

.ats-prompt-inspect {
    display: flex;
    align-items: center;
    padding: 6px 12px;
    background: var(--panel-bg-secondary, #f8f8f8);
    border-top: 1px solid var(--border-color-light, #e0e0e0);
}

.ats-prompt-inspect-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    font-size: 12px;
    font-weight: 500;
    color: var(--accent-purple, #8b5cf6);
    background: transparent;
    border: 1px solid var(--accent-purple, #8b5cf6);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.15s ease;
}

.ats-prompt-inspect-btn:hover {
    background: var(--accent-purple, #8b5cf6);
    color: #fff;
}

.prompt-inspect-icon {
    font-size: 14px;
}

.prompt-inspect-text {
    font-size: 12px;
}
