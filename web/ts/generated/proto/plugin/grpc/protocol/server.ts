// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.11.2
//   protoc               v6.32.1
// source: plugin/grpc/protocol/server.proto

/* eslint-disable */

export const protobufPackage = "protocol";

/** Message type discriminator for server-to-client messages */
export enum MessageType {
  MESSAGE_TYPE_UNSPECIFIED = 0,
  MESSAGE_TYPE_DAEMON_STATUS = 1,
  MESSAGE_TYPE_JOB_UPDATE = 2,
  MESSAGE_TYPE_STORAGE_WARNING = 3,
  UNRECOGNIZED = -1,
}

/** DaemonStatusMessage represents daemon status update sent to clients */
export interface DaemonStatusMessage {
  /** Message type discriminator */
  type: MessageType;
  /** Is daemon running */
  running: boolean;
  /** Number of active jobs */
  active_jobs: number;
  /** Number of queued jobs */
  queued_jobs: number;
  /** CPU/processing load (0-100) */
  load_percentage: number;
  /** Daily budget spent */
  budget_daily: number;
  /** Weekly budget spent */
  budget_weekly: number;
  /** Monthly budget spent */
  budget_monthly: number;
  /** Daily budget limit (config) */
  budget_daily_limit: number;
  /** Weekly budget limit (config) */
  budget_weekly_limit: number;
  /** Monthly budget limit (config) */
  budget_monthly_limit: number;
  /** Server state - see docs/server-states.md for state machine */
  server_state: string;
  /** Unix timestamp */
  timestamp: number;
}

/** JobUpdateMessage represents async job update sent to clients */
export interface JobUpdateMessage {
  /** Message type discriminator */
  type: MessageType;
  /**
   * TODO: Add Job field once Job type is migrated to proto
   * Job job = 2;                     // Full job details
   */
  metadata: { [key: string]: string };
}

export interface JobUpdateMessage_MetadataEntry {
  key: string;
  value: string;
}

/** StorageWarningMessage represents bounded storage warning */
export interface StorageWarningMessage {
  /** Message type discriminator */
  type: MessageType;
  /** Actor approaching limit */
  actor: string;
  /** Context approaching limit */
  context: string;
  /** Current attestation count */
  current: number;
  /** Configured limit */
  limit: number;
  /** Percentage full (0-100) */
  fill_percentage: number;
  /** Human-readable time until hitting limit */
  time_until_full: string;
  /** Unix timestamp */
  timestamp: number;
}

/**
 * RichSearchMatch represents a single match from rich string field search.
 * Mirrors storage.RichSearchMatch in ats/storage/rich_search.go.
 */
export interface RichSearchMatch {
  /** Subject ID from the attestation */
  node_id: string;
  /** Entity type name */
  type_name: string;
  /** Display label for the type */
  type_label: string;
  /** Name of the matched field */
  field_name: string;
  /** Full value of the matched field */
  field_value: string;
  /** Excerpt showing the match in context */
  excerpt: string;
  /** Match score (0.0–1.0) */
  score: number;
  /** Matching strategy: substring, fuzzy, semantic */
  strategy: string;
  /** Display name for this entity */
  display_label: string;
  /** Entity attributes (flat key-value) */
  attributes: { [key: string]: string };
  /** Words matched (for highlighting) */
  matched_words: string[];
}

export interface RichSearchMatch_AttributesEntry {
  key: string;
  value: string;
}

/** RichSearchResultsMessage is the server→client response for rich_search_results. */
export interface RichSearchResultsMessage {
  /** Original search query */
  query: string;
  /** Matched results */
  matches: RichSearchMatch[];
  /** Total number of matches */
  total: number;
}
