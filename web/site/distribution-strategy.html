<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QNTX - distribution-strategy</title>
  <link rel="icon" type="image/jpeg" href="./qntx.jpg">
  <link rel="stylesheet" href="./css/core.css">
  <link rel="stylesheet" href="./css/docs.css">
</head>
<body>
<nav class="doc-nav">
  <a href="./index.html">
    <img src="./qntx.jpg" alt="QNTX" class="site-logo">Documentation Home
  </a>
</nav>
<h1>QNTX Distribution Strategy</h1>
<h2>Current State</h2>
<h3>What We Build</h3>
<ul>
<li>✅ Docker images (amd64, arm64) → GHCR</li>
<li>✅ Go CLI binary (local builds only)</li>
<li>⚠️  Tauri apps (macOS, Windows, Android, iOS) → Only CI checks, no releases</li>
</ul>
<h3>What We Distribute</h3>
<ul>
<li>Docker images: <code>ghcr.io/teranos/qntx:latest</code> and <code>ghcr.io/teranos/qntx:{version}</code></li>
<li><strong>Nothing else publicly available</strong></li>
</ul>
<h2>Distribution Channels</h2>
<h3>1. GitHub Releases (Quick Win - High Priority)</h3>
<p><strong>What:</strong> Attach binaries to git tags automatically</p>
<p><strong>Platforms to distribute:</strong></p>
<ul>
<li>CLI binaries (Linux amd64/arm64, macOS Intel/ARM, Windows x64)</li>
<li>Desktop apps (macOS .dmg, Windows .msi/.exe)</li>
<li>Android APK (sideload)</li>
</ul>
<p><strong>Implementation:</strong></p>
<ul>
<li>Add release workflow triggered on <code>v*</code> tags</li>
<li>Use <code>goreleaser</code> for CLI multi-platform builds</li>
<li>Use Tauri's built-in release action for desktop apps</li>
<li>Upload artifacts to GitHub Release</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li>Immediate download links for all platforms</li>
<li>Changelog integration</li>
<li>Version history</li>
<li>Zero infrastructure cost</li>
</ul>
<p><strong>Effort:</strong> Medium (1-2 days)</p>
<hr />
<h3>2. Homebrew (High Priority - macOS/Linux)</h3>
<p><strong>What:</strong> Package manager for macOS and Linux</p>
<p><strong>Command:</strong></p>
<pre><code class="language-bash">brew install teranos/tap/qntx
</code></pre>
<p><strong>Requirements:</strong></p>
<ul>
<li>Create homebrew-tap repository (<code>teranos/homebrew-tap</code>)</li>
<li>Formula pointing to GitHub Release binaries</li>
<li>Auto-update formula on new releases</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li>Primary distribution method for developers</li>
<li>Automatic updates via <code>brew upgrade</code></li>
<li>High discoverability</li>
</ul>
<p><strong>Effort:</strong> Low (few hours after GitHub Releases exist)</p>
<hr />
<h3>3. Container Registries (Already Done ✓)</h3>
<p><strong>Current:</strong></p>
<ul>
<li>✅ GitHub Container Registry (ghcr.io)</li>
</ul>
<p><strong>Could Add:</strong></p>
<ul>
<li>Docker Hub (wider discoverability)</li>
<li>Quay.io (Red Hat ecosystem)</li>
</ul>
<p><strong>Multi-arch manifests:</strong> ✅ Already implemented</p>
<hr />
<h3>4. Package Managers by Platform</h3>
<h4>macOS</h4>
<ul>
<li>✅ Homebrew (priority)</li>
<li>MacPorts (lower priority)</li>
<li>Mac App Store (requires Apple Developer account + annual fee)</li>
</ul>
<h4>Windows</h4>
<ul>
<li><strong>winget</strong> (High priority - official Windows package manager)
<ul>
<li>Submit manifest to <code>microsoft/winget-pkgs</code></li>
<li>Free, official, widely adopted</li>
</ul>
</li>
<li><strong>Scoop</strong> (Medium priority - developer-focused)
<ul>
<li>Add bucket with JSON manifest</li>
</ul>
</li>
<li><strong>Chocolatey</strong> (Lower priority - enterprise-focused)
<ul>
<li>Requires moderation for community repo</li>
</ul>
</li>
</ul>
<h4>Linux</h4>
<ul>
<li><strong>APT repository</strong> (Debian/Ubuntu)
<ul>
<li>Host .deb packages on GitHub Pages or Cloudflare Pages</li>
<li>One-time setup, auto-update via CI</li>
</ul>
</li>
<li><strong>RPM repository</strong> (Fedora/RHEL)
<ul>
<li>Similar to APT</li>
</ul>
</li>
<li><strong>Snap Store</strong> (Cross-distro)
<ul>
<li>Canonical's universal package format</li>
<li>Automatic updates, sandboxed</li>
</ul>
</li>
<li><strong>Flatpak</strong> (Desktop apps)
<ul>
<li>For Tauri desktop app</li>
<li>Flathub distribution</li>
</ul>
</li>
</ul>
<hr />
<h3>5. Mobile App Stores</h3>
<h4>Android</h4>
<p><strong>Options:</strong></p>
<ol>
<li>
<p><strong>Google Play Store</strong> (Recommended)</p>
<ul>
<li>Widest reach</li>
<li>Requires $25 one-time fee</li>
<li>Review process (1-3 days typically)</li>
</ul>
</li>
<li>
<p><strong>F-Droid</strong> (Open source alternative)</p>
<ul>
<li>Free, no developer account needed</li>
<li>Longer review process</li>
<li>Trusted by privacy-conscious users</li>
</ul>
</li>
<li>
<p><strong>GitHub Releases</strong> (Sideloading)</p>
<ul>
<li>Immediate, free</li>
<li>Lower discoverability</li>
<li>Users must enable "unknown sources"</li>
</ul>
</li>
</ol>
<p><strong>Recommendation:</strong> Start with GitHub Releases (APK), add Play Store when ready for wider distribution.</p>
<h4>iOS</h4>
<ul>
<li><strong>App Store</strong> (Only official option)
<ul>
<li>Requires Apple Developer account ($99/year)</li>
<li>Strict review process</li>
<li>TestFlight for beta distribution</li>
</ul>
</li>
</ul>
<hr />
<h3>6. Language-Specific Package Managers</h3>
<p><strong>Not Recommended</strong> (QNTX is a platform, not a library):</p>
<ul>
<li>❌ npm - Not applicable (QNTX is not a Node library)</li>
<li>❌ PyPI - Python plugin exists but QNTX itself isn't a Python package</li>
<li>❌ crates.io - Not distributing Rust library</li>
</ul>
<hr />
<h2>Implementation Roadmap</h2>
<h3>Phase 1: Foundation (Week 1)</h3>
<p><strong>Goal:</strong> Make QNTX downloadable</p>
<ol>
<li>
<p><strong>GitHub Releases workflow</strong></p>
<ul>
<li>Multi-platform CLI builds (goreleaser)</li>
<li>Tauri desktop app builds (macOS .dmg, Windows .msi)</li>
<li>Android APK build</li>
<li>Auto-create release on version tags</li>
</ul>
</li>
<li>
<p><strong>Update README</strong></p>
<ul>
<li>Installation instructions</li>
<li>Download links</li>
<li>Platform support matrix</li>
</ul>
</li>
</ol>
<p><strong>Deliverable:</strong> Users can download QNTX for their platform from GitHub</p>
<hr />
<h3>Phase 2: Package Managers (Week 2-3)</h3>
<p><strong>Goal:</strong> Native installation experience</p>
<ol>
<li>
<p><strong>Homebrew tap</strong></p>
<ul>
<li>Create <code>teranos/homebrew-tap</code></li>
<li>Auto-update formula on releases</li>
<li>Test on macOS and Linux</li>
</ul>
</li>
<li>
<p><strong>winget manifest</strong></p>
<ul>
<li>Submit to microsoft/winget-pkgs</li>
<li>Waiting period for approval (~1 week)</li>
</ul>
</li>
</ol>
<p><strong>Deliverable:</strong></p>
<pre><code class="language-bash">brew install teranos/tap/qntx        # macOS/Linux
winget install Teranos.QNTX          # Windows
</code></pre>
<hr />
<h3>Phase 3: Linux Distribution (Week 4)</h3>
<p><strong>Goal:</strong> Native package managers for Linux</p>
<ol>
<li>
<p><strong>APT repository</strong> (Debian/Ubuntu)</p>
<ul>
<li>Host on GitHub Pages</li>
<li>Auto-publish .deb on releases</li>
<li>Add to sources.list</li>
</ul>
</li>
<li>
<p><strong>Snap package</strong></p>
<ul>
<li>Create snapcraft.yaml</li>
<li>Publish to Snap Store</li>
<li>Automatic updates</li>
</ul>
</li>
</ol>
<p><strong>Deliverable:</strong></p>
<pre><code class="language-bash">sudo apt install qntx               # Debian/Ubuntu
snap install qntx                   # Any Linux
</code></pre>
<hr />
<h3>Phase 4: Mobile (Month 2)</h3>
<p><strong>Goal:</strong> Official app store presence</p>
<ol>
<li>
<p><strong>Google Play Store</strong></p>
<ul>
<li>Developer account setup</li>
<li>App listing (screenshots, description)</li>
<li>Submit Android APK/AAB</li>
<li>Production release</li>
</ul>
</li>
<li>
<p><strong>iOS App Store</strong> (if budget allows)</p>
<ul>
<li>Apple Developer account ($99/year)</li>
<li>App listing</li>
<li>TestFlight beta</li>
<li>Production release</li>
</ul>
</li>
</ol>
<hr />
<h2>Technical Implementation Details</h2>
<h3>CLI Binary Distribution</h3>
<p><strong>Using goreleaser:</strong></p>
<p><code>.goreleaser.yml</code>:</p>
<pre><code class="language-yaml">builds:
  - main: ./cmd/qntx
    binary: qntx
    goos:
      - linux
      - darwin
      - windows
    goarch:
      - amd64
      - arm64
    ldflags:
      - -X github.com/teranos/QNTX/internal/version.Version={{.Version}}
      - -X github.com/teranos/QNTX/internal/version.CommitHash={{.Commit}}

archives:
  - format: tar.gz
    format_overrides:
      - goos: windows
        format: zip

release:
  github:
    owner: teranos
    name: QNTX
</code></pre>
<p><strong>GitHub workflow:</strong></p>
<pre><code class="language-yaml">- uses: goreleaser/goreleaser-action@v5
  with:
    version: latest
    args: release --clean
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
</code></pre>
<hr />
<h3>Tauri App Distribution</h3>
<p><strong>Add to existing workflows:</strong></p>
<pre><code class="language-yaml">- name: Build Tauri app
  uses: tauri-apps/tauri-action@v0
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  with:
    tagName: ${{ github.ref_name }}
    releaseName: 'QNTX ${{ github.ref_name }}'
    releaseBody: 'See CHANGELOG.md for details'
    releaseDraft: false
    prerelease: false
</code></pre>
<p>Tauri automatically:</p>
<ul>
<li>Builds platform-specific installers</li>
<li>Uploads to GitHub Releases</li>
<li>Generates update manifests (for auto-update)</li>
</ul>
<hr />
<h3>Homebrew Formula</h3>
<p><strong><code>homebrew-tap/Formula/qntx.rb</code>:</strong></p>
<pre><code class="language-ruby">class Qntx &lt; Formula
  desc "Continuous Intelligence Platform"
  homepage "https://github.com/teranos/QNTX"
  version "0.16.14"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/teranos/QNTX/releases/download/v0.16.14/qntx_Darwin_arm64.tar.gz"
      sha256 "..."
    else
      url "https://github.com/teranos/QNTX/releases/download/v0.16.14/qntx_Darwin_x86_64.tar.gz"
      sha256 "..."
    end
  end

  on_linux do
    if Hardware::CPU.arm?
      url "https://github.com/teranos/QNTX/releases/download/v0.16.14/qntx_Linux_arm64.tar.gz"
      sha256 "..."
    else
      url "https://github.com/teranos/QNTX/releases/download/v0.16.14/qntx_Linux_x86_64.tar.gz"
      sha256 "..."
    end
  end

  def install
    bin.install "qntx"
  end
end
</code></pre>
<p>Auto-update with <code>brew bump-formula-pr</code>.</p>
<hr />
<h3>winget Manifest</h3>
<p><strong><code>microsoft/winget-pkgs/manifests/t/Teranos/QNTX/0.16.14/</code>:</strong></p>
<pre><code class="language-yaml">PackageIdentifier: Teranos.QNTX
PackageVersion: 0.16.14
PackageLocale: en-US
Publisher: Teranos
PackageName: QNTX
License: MIT
ShortDescription: Continuous Intelligence Platform
Installers:
  - Architecture: x64
    InstallerType: msi
    InstallerUrl: https://github.com/teranos/QNTX/releases/download/v0.16.14/qntx_Windows_x64.msi
    InstallerSha256: ...
</code></pre>
<hr />
<h2>Cost Analysis</h2>
<table><thead><tr><th>Channel</th><th>Setup Cost</th><th>Ongoing Cost</th><th>Effort</th></tr></thead><tbody>
<tr><td>GitHub Releases</td><td>Free</td><td>Free</td><td>Medium</td></tr>
<tr><td>Homebrew</td><td>Free</td><td>Free</td><td>Low</td></tr>
<tr><td>winget</td><td>Free</td><td>Free</td><td>Low</td></tr>
<tr><td>Docker (GHCR)</td><td>Free</td><td>Free</td><td>Done ✓</td></tr>
<tr><td>Snap Store</td><td>Free</td><td>Free</td><td>Medium</td></tr>
<tr><td>Google Play</td><td>$25 once</td><td>Free</td><td>Medium</td></tr>
<tr><td>Apple App Store</td><td>Free (have account?)</td><td>$99/year</td><td>High</td></tr>
<tr><td>F-Droid</td><td>Free</td><td>Free</td><td>Medium</td></tr>
</tbody></table>
<p><strong>Total upfront:</strong> $25-124 (depending on iOS)
<strong>Annual:</strong> $0-99 (depending on iOS)</p>
<hr />
<h2>Metrics to Track</h2>
<p>Post-distribution, monitor:</p>
<ul>
<li>Download counts by platform (GitHub Releases API)</li>
<li>Package manager installs (Homebrew analytics, winget telemetry)</li>
<li>Docker pulls (GHCR stats)</li>
<li>App store downloads/ratings</li>
<li>Platform distribution (which OS/arch is most popular)</li>
</ul>
<hr />
<h2>Recommended Priority</h2>
<ol>
<li><strong>GitHub Releases</strong> (CLI + desktop apps) - Week 1</li>
<li><strong>Homebrew</strong> - Week 2</li>
<li><strong>winget</strong> - Week 2</li>
<li><strong>Docker</strong> - Already done ✓</li>
<li><strong>Snap/APT</strong> - Week 3-4</li>
<li><strong>Google Play</strong> - Month 2</li>
<li><strong>iOS App Store</strong> - When budget allows</li>
</ol>
<hr />
<h2>Next Steps</h2>
<ol>
<li>Create <code>.goreleaser.yml</code> for CLI builds</li>
<li>Add release workflow (<code>.github/workflows/release.yml</code>)</li>
<li>Update Tauri workflows to build on tags (not just check)</li>
<li>Create release (tag v0.16.15 to test)</li>
<li>Document installation methods in README</li>
<li>Create homebrew-tap repository</li>
<li>Submit winget manifest</li>
</ol>
<hr />
<h2>Questions to Answer</h2>
<ul>
<li>Do we want auto-update for desktop apps? (Tauri supports this)</li>
<li>Should Docker images be pushed to Docker Hub in addition to GHCR?</li>
<li>Do we want nightly/beta releases in addition to stable?</li>
<li>What's our iOS distribution timeline? (requires Apple Developer account)</li>
<li>Should we create a downloads page on a website? (or just README)</li>
</ul>
<footer class="site-footer">
  <p class="provenance">Generated by sitegen.nix at commit <a href="https://github.com/teranos/QNTX/commit/0e7ca38dd1dcce5d67e9797b91950b21353f137a-dirty">0e7ca38-dirty</a></p>
</footer>
</body>
</html>
