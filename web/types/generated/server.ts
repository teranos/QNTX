// AUTO-GENERATED by ats/typegen - DO NOT EDIT
// Source: server

import { Job } from './async';
import { Execution } from './schedule';

export interface ChildJobInfo {
  id: string;
  handler_name: string;
  source: string;
  status: string;
  progress_pct: number;
  cost_estimate: number;
  cost_actual: number;
  error?: string;
  created_at: string;
  started_at?: string | null;
  completed_at?: string | null;
}

export interface CodeEntry {
  name: string;
  path: string;
  isDir: boolean;
  children?: CodeEntry[];
}

export interface CompleteMessage {
  type: string;
  message: string;
}

export interface ConsoleLog {
  timestamp: string;
  level: string;
  message: string;
  stack?: string;
  url?: string;
}

export interface CreateScheduledJobRequest {
  ats_code: string;
  interval_seconds: number;
  created_from_doc: string;
  metadata: string;
  force?: boolean;
}

export interface DaemonStatusMessage {
  type: string;
  running: boolean;
  active_jobs: number;
  queued_jobs: number;
  load_percent: number;
  budget_daily: number;
  budget_weekly: number;
  budget_monthly: number;
  budget_daily_limit: number;
  budget_weekly_limit: number;
  budget_monthly_limit: number;
  server_state: string;
  timestamp: number;
}

export interface ErrorResponse {
  error: string;
}

export interface JobChildrenResponse {
  parent_job_id: string;
  children: ChildJobInfo[];
}

export interface JobStagesResponse {
  job_id: string;
  stages: StageInfo[];
}

export interface JobUpdateMessage {
  type: string;
  job?: Job | null;
  metadata: Record<string, unknown>;
}

export interface LLMStreamMessage {
  type: string;
  job_id: string;
  task_id?: string;
  content: string;
  done: boolean;
  model?: string;
  stage?: string;
  error?: string;
}

export interface ListExecutionsResponse {
  executions: Execution[];
  count: number;
  total: number;
  has_more: boolean;
}

export interface ListScheduledJobsResponse {
  jobs: ScheduledJobResponse[];
  count: number;
}

export interface LogEntry {
  timestamp: string;
  level: string;
  message: string;
  metadata?: Record<string, unknown>;
}

export interface ProgressMessage {
  type: string;
  current: number;
  total: number;
  message: string;
}

export interface ProseEntry {
  name: string;
  path: string;
  isDir: boolean;
  children?: ProseEntry[];
}

export interface PulseExecutionCompletedMessage {
  type: string;
  scheduled_job_id: string;
  execution_id: string;
  ats_code: string;
  async_job_id: string;
  result_summary: string;
  duration_ms: number;
  timestamp: number;
}

export interface PulseExecutionFailedMessage {
  type: string;
  scheduled_job_id: string;
  execution_id: string;
  ats_code: string;
  error_message: string;
  duration_ms: number;
  timestamp: number;
}

export interface PulseExecutionLogStreamMessage {
  type: string;
  scheduled_job_id: string;
  execution_id: string;
  log_chunk: string;
  timestamp: number;
}

export interface PulseExecutionStartedMessage {
  type: string;
  scheduled_job_id: string;
  execution_id: string;
  ats_code: string;
  timestamp: number;
}

export interface QueryMessage {
  type: string;
  query: string;
  line: number;
  cursor: number;
  verbosity: number;
  graph_limit: number;
  filename: string;
  fileType: string;
  data: string;
  action: string;
  daily_budget: number;
  weekly_budget: number;
  monthly_budget: number;
  job_id: string;
  node_type: string;
  hidden: boolean;
}

export interface ScheduledJobResponse {
  id: string;
  ats_code: string;
  interval_seconds: number;
  next_run_at: string;
  last_run_at?: string | null;
  last_execution_id: string;
  state: string;
  created_from_doc: string;
  metadata: string;
  created_at: string;
  updated_at: string;
}

export interface StageInfo {
  stage: string;
  tasks: TaskInfo[];
}

export interface StatsMessage {
  type: string;
  contacts: number;
  attestations: number;
  companies: number;
}

export interface StorageWarningMessage {
  type: string;
  actor: string;
  context: string;
  current: number;
  limit: number;
  fill_percent: number;
  time_until_full: string;
  timestamp: number;
}

export interface TaskInfo {
  task_id: string;
  log_count: number;
}

export interface TaskLogsResponse {
  task_id: string;
  logs: LogEntry[];
}

export interface UpdateScheduledJobRequest {
  state?: string | null;
  interval_seconds?: number | null;
}

export interface UsageUpdateMessage {
  type: string;
  total_cost: number;
  requests: number;
  success: number;
  tokens: number;
  models: number;
  since: string;
  timestamp: number;
}
