# server Types

<!-- Code generated by typegen from Go source. DO NOT EDIT. -->
<!-- Regenerate with: make types -->
<!-- TODO: Migrate to proto generation -->

This document shows Go type definitions from the codebase.

**Generated types**:
- TypeScript: [`types/generated/typescript/server.ts`](https://github.com/teranos/QNTX/blob/main/types/generated/typescript/server.ts)
- Rust: [`types/generated/rust/server.rs`](https://github.com/teranos/QNTX/blob/main/types/generated/rust/server.rs)
- Python: [`types/generated/python/server.py`](https://github.com/teranos/QNTX/blob/main/types/generated/python/server.py)

## ChildJobInfo {#childjobinfo}

**Source**: [`server/pulse_types.go:88`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L88)


```go
type ChildJobInfo struct {
	ID string `json:"id"`
	HandlerName string `json:"handler_name"`
	Source string `json:"source"`
	Status string `json:"status"`
	ProgressPct float64 `json:"progress_pct,omitempty"`
	CostEstimate float64 `json:"cost_estimate,omitempty"`
	CostActual float64 `json:"cost_actual,omitempty"`
	Error string `json:"error,omitempty"`
	CreatedAt string `json:"created_at"`
	StartedAt *string `json:"started_at,omitempty"`
	CompletedAt *string `json:"completed_at,omitempty"`
}
```

## CompleteMessage {#completemessage}

**Source**: [`server/types.go:107`](https://github.com/teranos/QNTX/blob/main/server/types.go#L107)


```go
type CompleteMessage struct {
	Type string `json:"type"`
	Message string `json:"message"`
}
```

## ConsoleFormatter {#consoleformatter}

**Source**: [`server/console_formatter.go:10`](https://github.com/teranos/QNTX/blob/main/server/console_formatter.go#L10)


```go
type ConsoleFormatter struct {
}
```

## ConsoleLog {#consolelog}

**Source**: [`server/debug_handler.go:10`](https://github.com/teranos/QNTX/blob/main/server/debug_handler.go#L10)


```go
type ConsoleLog struct {
	Timestamp time.Time `json:"timestamp"`
	Level string `json:"level"`
	Message string `json:"message"`
	Stack string `json:"stack,omitempty"`
	URL string `json:"url,omitempty"`
}
```

## CreateScheduledJobRequest {#createscheduledjobrequest}

**Source**: [`server/pulse_types.go:14`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L14)


```go
type CreateScheduledJobRequest struct {
	ATSCode string `json:"ats_code"`
	IntervalSeconds int `json:"interval_seconds"`
	CreatedFromDoc string `json:"created_from_doc,omitempty"`
	Metadata string `json:"metadata,omitempty"`
	Force bool `json:"force,omitempty"`
}
```

## DaemonStatusMessage {#daemonstatusmessage}

**Source**: [`server/types.go:132`](https://github.com/teranos/QNTX/blob/main/server/types.go#L132)


```go
type DaemonStatusMessage struct {
	Type string `json:"type"`
	Running bool `json:"running"`
	ActiveJobs int `json:"active_jobs"`
	QueuedJobs int `json:"queued_jobs"`
	LoadPercent float64 `json:"load_percent"`
	BudgetDaily float64 `json:"budget_daily"`
	BudgetWeekly float64 `json:"budget_weekly"`
	BudgetMonthly float64 `json:"budget_monthly"`
	BudgetDailyLimit float64 `json:"budget_daily_limit"`
	BudgetWeeklyLimit float64 `json:"budget_weekly_limit"`
	BudgetMonthlyLimit float64 `json:"budget_monthly_limit"`
	ServerState string `json:"server_state"`
	Timestamp int64 `json:"timestamp"`
}
```

## ErrorResponse {#errorresponse}

**Source**: [`server/pulse_types.go:50`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L50)


```go
type ErrorResponse struct {
	Error string `json:"error"`
	Details []string `json:"details,omitempty"`
}
```

## GlyphFiredMessage {#glyphfiredmessage}

**Source**: [`server/types.go:235`](https://github.com/teranos/QNTX/blob/main/server/types.go#L235)


```go
type GlyphFiredMessage struct {
	Type string `json:"type"`
	GlyphID string `json:"glyph_id"`
	AttestationID string `json:"attestation_id"`
	Status string `json:"status"`
	Error string `json:"error,omitempty"`
	Result string `json:"result,omitempty"`
	Timestamp int64 `json:"timestamp"`
}
```

## JobChildrenResponse {#jobchildrenresponse}

**Source**: [`server/pulse_types.go:103`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L103)


```go
type JobChildrenResponse struct {
	ParentJobID string `json:"parent_job_id"`
	Children []ChildJobInfo `json:"children"`
}
```

## JobStagesResponse {#jobstagesresponse}

**Source**: [`server/pulse_types.go:68`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L68)


```go
type JobStagesResponse struct {
	JobID string `json:"job_id"`
	Stages []StageInfo `json:"stages"`
}
```

## JobUpdateMessage {#jobupdatemessage}

**Source**: [`server/types.go:125`](https://github.com/teranos/QNTX/blob/main/server/types.go#L125)


```go
type JobUpdateMessage struct {
	Type string `json:"type"`
	Job *async.Job `json:"job" tstype:"Job | null"`
	Metadata map[string]interface{} `json:"metadata"`
}
```

## LLMStreamMessage {#llmstreammessage}

**Source**: [`server/types.go:149`](https://github.com/teranos/QNTX/blob/main/server/types.go#L149)


```go
type LLMStreamMessage struct {
	Type string `json:"type"`
	JobID string `json:"job_id"`
	TaskID string `json:"task_id,omitempty"`
	Content string `json:"content"`
	Done bool `json:"done"`
	Model string `json:"model,omitempty"`
	Stage string `json:"stage,omitempty"`
	Error string `json:"error,omitempty"`
}
```

## ListExecutionsResponse {#listexecutionsresponse}

**Source**: [`server/pulse_execution_handlers.go:16`](https://github.com/teranos/QNTX/blob/main/server/pulse_execution_handlers.go#L16)


```go
type ListExecutionsResponse struct {
	Executions []schedule.Execution `json:"executions" tstype:"Execution[]"`
	Count int `json:"count"`
	Total int `json:"total"`
	HasMore bool `json:"has_more"`
}
```

## ListScheduledJobsResponse {#listscheduledjobsresponse}

**Source**: [`server/pulse_types.go:44`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L44)


```go
type ListScheduledJobsResponse struct {
	Jobs []ScheduledJobResponse `json:"jobs"`
	Count int `json:"count,omitempty"`
}
```

## LogEntry {#logentry}

**Source**: [`server/pulse_types.go:74`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L74)


```go
type LogEntry struct {
	Timestamp string `json:"timestamp"`
	Level string `json:"level"`
	Message string `json:"message"`
	Metadata map[string]interface{} `json:"metadata,omitempty"`
}
```

## ParsedATSCode {#parsedatscode}

**Source**: [`server/ats_parser.go:16`](https://github.com/teranos/QNTX/blob/main/server/ats_parser.go#L16)


```go
type ParsedATSCode struct {
	HandlerName string
	Payload []byte
	SourceURL string
}
```

## PluginHealthMessage {#pluginhealthmessage}

**Source**: [`server/types.go:216`](https://github.com/teranos/QNTX/blob/main/server/types.go#L216)


```go
type PluginHealthMessage struct {
	Type string `json:"type"`
	Name string `json:"name"`
	Healthy bool `json:"healthy"`
	State string `json:"state"`
	Message string `json:"message"`
	Timestamp int64 `json:"timestamp"`
}
```

## PluginInfo {#plugininfo}

**Source**: [`server/handlers.go:574`](https://github.com/teranos/QNTX/blob/main/server/handlers.go#L574)


```go
type PluginInfo struct {
	Name string `json:"name"`
	Version string `json:"version"`
	QNTXVersion string `json:"qntx_version,omitempty"`
	Description string `json:"description"`
	Author string `json:"author,omitempty"`
	License string `json:"license,omitempty"`
	Healthy bool `json:"healthy"`
	Message string `json:"message,omitempty"`
	Details map[string]interface{} `json:"details,omitempty"`
	State string `json:"state"`
	Pausable bool `json:"pausable"`
}
```

## PreviewSample {#previewsample}

**Source**: [`server/prompt_handlers.go:43`](https://github.com/teranos/QNTX/blob/main/server/prompt_handlers.go#L43)


```go
type PreviewSample struct {
	Attestation map[string]interface{} `json:"attestation"`
	InterpolatedPrompt string `json:"interpolated_prompt"`
	Response string `json:"response"`
	PromptTokens int `json:"prompt_tokens,omitempty"`
	CompletionTokens int `json:"completion_tokens,omitempty"`
	TotalTokens int `json:"total_tokens,omitempty"`
	Error string `json:"error,omitempty"`
}
```

## ProgressMessage {#progressmessage}

**Source**: [`server/types.go:91`](https://github.com/teranos/QNTX/blob/main/server/types.go#L91)


```go
type ProgressMessage struct {
	Type string `json:"type"`
	Current int `json:"current"`
	Total int `json:"total"`
	Message string `json:"message"`
}
```

## PromptDirectRequest {#promptdirectrequest}

**Source**: [`server/prompt_handlers.go:73`](https://github.com/teranos/QNTX/blob/main/server/prompt_handlers.go#L73)


```go
type PromptDirectRequest struct {
	Template string `json:"template"`
	SystemPrompt string `json:"system_prompt,omitempty"`
	Provider string `json:"provider,omitempty"`
	Model string `json:"model,omitempty"`
	GlyphID string `json:"glyph_id,omitempty"`
	UpstreamAttestation *types.As `json:"upstream_attestation,omitempty"`
}
```

## PromptDirectResponse {#promptdirectresponse}

**Source**: [`server/prompt_handlers.go:83`](https://github.com/teranos/QNTX/blob/main/server/prompt_handlers.go#L83)


```go
type PromptDirectResponse struct {
	Response string `json:"response"`
	PromptTokens int `json:"prompt_tokens,omitempty"`
	CompletionTokens int `json:"completion_tokens,omitempty"`
	TotalTokens int `json:"total_tokens,omitempty"`
	Error string `json:"error,omitempty"`
}
```

## PromptExecuteRequest {#promptexecuterequest}

**Source**: [`server/prompt_handlers.go:64`](https://github.com/teranos/QNTX/blob/main/server/prompt_handlers.go#L64)


```go
type PromptExecuteRequest struct {
	AxQuery string `json:"ax_query"`
	Template string `json:"template"`
	SystemPrompt string `json:"system_prompt,omitempty"`
	Provider string `json:"provider,omitempty"`
	Model string `json:"model,omitempty"`
}
```

## PromptExecuteResponse {#promptexecuteresponse}

**Source**: [`server/prompt_handlers.go:112`](https://github.com/teranos/QNTX/blob/main/server/prompt_handlers.go#L112)


```go
type PromptExecuteResponse struct {
	Results []Result `json:"results"`
	AttestationCount int `json:"attestation_count"`
	Error string `json:"error,omitempty"`
}
```

## PromptPreviewRequest {#promptpreviewrequest}

**Source**: [`server/prompt_handlers.go:31`](https://github.com/teranos/QNTX/blob/main/server/prompt_handlers.go#L31)


```go
type PromptPreviewRequest struct {
	AxQuery string `json:"ax_query"`
	Template string `json:"template"`
	SystemPrompt string `json:"system_prompt,omitempty"`
	SampleSize int `json:"sample_size,omitempty"`
	Provider string `json:"provider,omitempty"`
	Model string `json:"model,omitempty"`
	PromptID string `json:"prompt_id,omitempty"`
	PromptVersion int `json:"prompt_version,omitempty"`
}
```

## PromptPreviewResponse {#promptpreviewresponse}

**Source**: [`server/prompt_handlers.go:54`](https://github.com/teranos/QNTX/blob/main/server/prompt_handlers.go#L54)


```go
type PromptPreviewResponse struct {
	TotalAttestations int `json:"total_attestations"`
	SampleSize int `json:"sample_size"`
	Samples []PreviewSample `json:"samples"`
	SuccessCount int `json:"success_count"`
	FailureCount int `json:"failure_count"`
	Error string `json:"error,omitempty"`
}
```

## PromptSaveRequest {#promptsaverequest}

**Source**: [`server/prompt_handlers.go:519`](https://github.com/teranos/QNTX/blob/main/server/prompt_handlers.go#L519)


```go
type PromptSaveRequest struct {
	Name string `json:"name"`
	Template string `json:"template"`
	SystemPrompt string `json:"system_prompt,omitempty"`
	AxPattern string `json:"ax_pattern,omitempty"`
	Provider string `json:"provider,omitempty"`
	Model string `json:"model,omitempty"`
}
```

## ProseEntry {#proseentry}

**Source**: [`server/prose_handler.go:16`](https://github.com/teranos/QNTX/blob/main/server/prose_handler.go#L16)


```go
type ProseEntry struct {
	Name string `json:"name"`
	Path string `json:"path"`
	IsDir bool `json:"isDir"`
	Children []ProseEntry `json:"children,omitempty"`
}
```

## PulseExecutionCompletedMessage {#pulseexecutioncompletedmessage}

**Source**: [`server/types.go:182`](https://github.com/teranos/QNTX/blob/main/server/types.go#L182)


```go
type PulseExecutionCompletedMessage struct {
	Type string `json:"type"`
	ScheduledJobID string `json:"scheduled_job_id"`
	ExecutionID string `json:"execution_id"`
	ATSCode string `json:"ats_code"`
	AsyncJobID string `json:"async_job_id"`
	ResultSummary string `json:"result_summary"`
	DurationMs int `json:"duration_ms"`
	Timestamp int64 `json:"timestamp"`
}
```

## PulseExecutionFailedMessage {#pulseexecutionfailedmessage}

**Source**: [`server/types.go:170`](https://github.com/teranos/QNTX/blob/main/server/types.go#L170)


```go
type PulseExecutionFailedMessage struct {
	Type string `json:"type"`
	ScheduledJobID string `json:"scheduled_job_id"`
	ExecutionID string `json:"execution_id"`
	ATSCode string `json:"ats_code"`
	ErrorMessage string `json:"error_message"`
	ErrorDetails []string `json:"error_details"`
	DurationMs int `json:"duration_ms"`
	Timestamp int64 `json:"timestamp"`
}
```

## PulseExecutionLogStreamMessage {#pulseexecutionlogstreammessage}

**Source**: [`server/types.go:194`](https://github.com/teranos/QNTX/blob/main/server/types.go#L194)


```go
type PulseExecutionLogStreamMessage struct {
	Type string `json:"type"`
	ScheduledJobID string `json:"scheduled_job_id"`
	ExecutionID string `json:"execution_id"`
	LogChunk string `json:"log_chunk"`
	Timestamp int64 `json:"timestamp"`
}
```

## PulseExecutionStartedMessage {#pulseexecutionstartedmessage}

**Source**: [`server/types.go:161`](https://github.com/teranos/QNTX/blob/main/server/types.go#L161)


```go
type PulseExecutionStartedMessage struct {
	Type string `json:"type"`
	ScheduledJobID string `json:"scheduled_job_id"`
	ExecutionID string `json:"execution_id"`
	ATSCode string `json:"ats_code"`
	Timestamp int64 `json:"timestamp"`
}
```

## QueryMessage {#querymessage}

**Source**: [`server/types.go:58`](https://github.com/teranos/QNTX/blob/main/server/types.go#L58)


```go
type QueryMessage struct {
	Type string `json:"type"`
	Query string `json:"query"`
	Line int `json:"line"`
	Cursor int `json:"cursor"`
	Verbosity int `json:"verbosity"`
	GraphLimit int `json:"graph_limit"`
	Filename string `json:"filename"`
	FileType string `json:"fileType"`
	Data string `json:"data"`
	Action string `json:"action"`
	DailyBudget float64 `json:"daily_budget"`
	WeeklyBudget float64 `json:"weekly_budget"`
	MonthlyBudget float64 `json:"monthly_budget"`
	JobID string `json:"job_id"`
	NodeType string `json:"node_type"`
	Hidden bool `json:"hidden"`
	ModelPath string `json:"model_path"`
	ConfidenceThreshold float32 `json:"confidence_threshold"`
	NMSThreshold float32 `json:"nms_threshold"`
	FrameData []byte `json:"frame_data"`
	Width int `json:"width"`
	Height int `json:"height"`
	Format string `json:"format"`
	WatcherID string `json:"watcher_id"`
	WatcherQuery string `json:"watcher_query"`
	WatcherName string `json:"watcher_name"`
	Enabled bool `json:"enabled"`
}
```

## Result {#result}

**Source**: [`server/prompt_handlers.go:92`](https://github.com/teranos/QNTX/blob/main/server/prompt_handlers.go#L92)


```go
type Result struct {
	SourceAttestationID string `json:"source_attestation_id"`
	Prompt string `json:"prompt"`
	Response string `json:"response"`
	ResultAttestationID string `json:"result_attestation_id,omitempty"`
	PromptTokens int `json:"prompt_tokens,omitempty"`
	CompletionTokens int `json:"completion_tokens,omitempty"`
	TotalTokens int `json:"total_tokens,omitempty"`
}
```

## ScheduledJobResponse {#scheduledjobresponse}

**Source**: [`server/pulse_types.go:29`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L29)


```go
type ScheduledJobResponse struct {
	ID string `json:"id"`
	ATSCode string `json:"ats_code"`
	IntervalSeconds int `json:"interval_seconds,omitempty"`
	NextRunAt string `json:"next_run_at"`
	LastRunAt *string `json:"last_run_at,omitempty"`
	LastExecutionID string `json:"last_execution_id,omitempty"`
	State string `json:"state"`
	CreatedFromDoc string `json:"created_from_doc,omitempty"`
	Metadata string `json:"metadata,omitempty"`
	CreatedAt string `json:"created_at"`
	UpdatedAt string `json:"updated_at"`
}
```

## StageInfo {#stageinfo}

**Source**: [`server/pulse_types.go:62`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L62)


```go
type StageInfo struct {
	Stage string `json:"stage"`
	Tasks []TaskInfo `json:"tasks"`
}
```

## StatsMessage {#statsmessage}

**Source**: [`server/types.go:99`](https://github.com/teranos/QNTX/blob/main/server/types.go#L99)


```go
type StatsMessage struct {
	Type string `json:"type"`
	Contacts int `json:"contacts"`
	Attestations int `json:"attestations"`
	Companies int `json:"companies"`
}
```

## StorageWarningMessage {#storagewarningmessage}

**Source**: [`server/types.go:203`](https://github.com/teranos/QNTX/blob/main/server/types.go#L203)


```go
type StorageWarningMessage struct {
	Type string `json:"type"`
	Actor string `json:"actor"`
	Context string `json:"context"`
	Current int `json:"current"`
	Limit int `json:"limit"`
	FillPercent float64 `json:"fill_percent"`
	TimeUntilFull string `json:"time_until_full"`
	Timestamp int64 `json:"timestamp"`
}
```

## TaskInfo {#taskinfo}

**Source**: [`server/pulse_types.go:56`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L56)


```go
type TaskInfo struct {
	TaskID string `json:"task_id"`
	LogCount int `json:"log_count,omitempty"`
}
```

## TaskLogsResponse {#tasklogsresponse}

**Source**: [`server/pulse_types.go:82`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L82)


```go
type TaskLogsResponse struct {
	TaskID string `json:"task_id"`
	Logs []LogEntry `json:"logs"`
}
```

## UpdateScheduledJobRequest {#updatescheduledjobrequest}

**Source**: [`server/pulse_types.go:23`](https://github.com/teranos/QNTX/blob/main/server/pulse_types.go#L23)


```go
type UpdateScheduledJobRequest struct {
	State *string `json:"state,omitempty"`
	IntervalSeconds *int `json:"interval_seconds,omitempty"`
}
```

## UsageUpdateMessage {#usageupdatemessage}

**Source**: [`server/types.go:113`](https://github.com/teranos/QNTX/blob/main/server/types.go#L113)


```go
type UsageUpdateMessage struct {
	Type string `json:"type"`
	TotalCost float64 `json:"total_cost"`
	Requests int `json:"requests"`
	Success int `json:"success"`
	Tokens int `json:"tokens"`
	Models int `json:"models"`
	Since string `json:"since"`
	Timestamp int64 `json:"timestamp"`
}
```

## WatcherCreateRequest {#watchercreaterequest}

**Source**: [`server/watcher_handlers.go:18`](https://github.com/teranos/QNTX/blob/main/server/watcher_handlers.go#L18)


```go
type WatcherCreateRequest struct {
	ID string `json:"id"`
	Name string `json:"name"`
	Subjects []string `json:"subjects,omitempty"`
	Predicates []string `json:"predicates,omitempty"`
	Contexts []string `json:"contexts,omitempty"`
	Actors []string `json:"actors,omitempty"`
	TimeStart string `json:"time_start,omitempty"`
	TimeEnd string `json:"time_end,omitempty"`
	ActionType string `json:"action_type"`
	ActionData string `json:"action_data"`
	MaxFiresPerMinute int `json:"max_fires_per_minute,omitempty"`
	Enabled *bool `json:"enabled,omitempty"`
}
```

## WatcherErrorMessage {#watchererrormessage}

**Source**: [`server/types.go:247`](https://github.com/teranos/QNTX/blob/main/server/types.go#L247)


```go
type WatcherErrorMessage struct {
	Type string `json:"type"`
	WatcherID string `json:"watcher_id"`
	Error string `json:"error"`
	Details []string `json:"details,omitempty"`
	Severity string `json:"severity"`
	Timestamp int64 `json:"timestamp"`
}
```

## WatcherMatchMessage {#watchermatchmessage}

**Source**: [`server/types.go:227`](https://github.com/teranos/QNTX/blob/main/server/types.go#L227)


```go
type WatcherMatchMessage struct {
	Type string `json:"type"`
	WatcherID string `json:"watcher_id"`
	Attestation interface{} `json:"attestation"`
	Timestamp int64 `json:"timestamp"`
}
```

## WatcherResponse {#watcherresponse}

**Source**: [`server/watcher_handlers.go:34`](https://github.com/teranos/QNTX/blob/main/server/watcher_handlers.go#L34)


```go
type WatcherResponse struct {
	ID string `json:"id"`
	Name string `json:"name"`
	Subjects []string `json:"subjects,omitempty"`
	Predicates []string `json:"predicates,omitempty"`
	Contexts []string `json:"contexts,omitempty"`
	Actors []string `json:"actors,omitempty"`
	TimeStart string `json:"time_start,omitempty"`
	TimeEnd string `json:"time_end,omitempty"`
	ActionType string `json:"action_type"`
	ActionData string `json:"action_data"`
	MaxFiresPerMinute int `json:"max_fires_per_minute"`
	Enabled bool `json:"enabled"`
	CreatedAt string `json:"created_at"`
	UpdatedAt string `json:"updated_at"`
	LastFiredAt string `json:"last_fired_at,omitempty"`
	FireCount int64 `json:"fire_count"`
	ErrorCount int64 `json:"error_count"`
	LastError string `json:"last_error,omitempty"`
}
```
