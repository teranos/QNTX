# async Types

<!-- Code generated by ats/typegen from Go source. DO NOT EDIT. -->
<!-- Regenerate with: make types -->

This document shows Go type definitions alongside their TypeScript equivalents.
Use this as a reference when working with QNTX types in different contexts.

## ErrorCode

**Source**: [`pulse/async/error.go:12`](https://github.com/teranos/QNTX/blob/main/pulse/async/error.go#L12)


<table>
<tr>
<th>Go Source</th>
<th>TypeScript</th>
</tr>
<tr>
<td>

```go
type ErrorCode string

const (
	ErrorCodeAi_error ErrorCode = "ai_error"
	ErrorCodeDatabase_error ErrorCode = "database_error"
	ErrorCodeFile_not_found ErrorCode = "file_not_found"
	ErrorCodeNetwork_error ErrorCode = "network_error"
	ErrorCodeParse_error ErrorCode = "parse_error"
	ErrorCodeTimeout ErrorCode = "timeout"
	ErrorCodeUnknown ErrorCode = "unknown"
	ErrorCodeValidation_error ErrorCode = "validation_error"
)
```

</td>
<td>

```typescript
export type ErrorCode = 'ai_error' | 'database_error' | 'file_not_found' | 'network_error' | 'parse_error' | 'timeout' | 'unknown' | 'validation_error';
```

</td>
</tr>
</table>

## ErrorContext

**Source**: [`pulse/async/error.go:26`](https://github.com/teranos/QNTX/blob/main/pulse/async/error.go#L26)


<table>
<tr>
<th>Go Source</th>
<th>TypeScript</th>
</tr>
<tr>
<td>

```go
type ErrorContext struct {
	Stage string `json:"stage"`
	Code ErrorCode `json:"code"`
	Message string `json:"message"`
	Retryable bool `json:"retryable"`
	Recoverable bool `json:"recoverable"`
}
```

</td>
<td>

```typescript
export interface ErrorContext {
  /** Where the error occurred */
  stage: string;
  /** Error classification */
  code: ErrorCode;
  /** Human-readable message */
  message: string;
  /** Can the job be retried? */
  retryable: boolean;
  /** Can continue processing other items? */
  recoverable: boolean;
}
```

</td>
</tr>
</table>

## Job

**Source**: [`pulse/async/job.go:67`](https://github.com/teranos/QNTX/blob/main/pulse/async/job.go#L67)


<table>
<tr>
<th>Go Source</th>
<th>TypeScript</th>
</tr>
<tr>
<td>

```go
type Job struct {
	ID string `json:"id"`
	HandlerName string `json:"handler_name"`
	Payload json.RawMessage `json:"payload,omitempty"`
	Source string `json:"source"`
	Status JobStatus `json:"status"`
	Progress Progress `json:"progress"`
	CostEstimate float64 `json:"cost_estimate"`
	CostActual float64 `json:"cost_actual"`
	PulseState *PulseState `json:"pulse_state,omitempty"`
	Error string `json:"error,omitempty"`
	ParentJobID string `json:"parent_job_id,omitempty"`
	RetryCount int `json:"retry_count"`
	CreatedAt time.Time `json:"created_at"`
	StartedAt *time.Time `json:"started_at,omitempty"`
	CompletedAt *time.Time `json:"completed_at,omitempty"`
	UpdatedAt time.Time `json:"updated_at"`
}
```

</td>
<td>

```typescript
export interface Job {
  id: string;
  /** "data.batch-import", "bio.sequence-align" */
  handler_name: string;
  /** Handler-specific data (domain-owned) */
  payload?: unknown;
  /** For deduplication and logging */
  source: string;
  status: JobStatus;
  progress: Progress;
  cost_estimate: number;
  cost_actual: number;
  pulse_state?: PulseState | null;
  error?: string;
  /** For tasks grouped under parent job */
  parent_job_id?: string;
  /** Number of retry attempts (max 2) */
  retry_count: number;
  created_at: string;
  started_at?: string | null;
  completed_at?: string | null;
  updated_at: string;
}
```

</td>
</tr>
</table>

## JobStatus

**Source**: [`pulse/async/job.go:13`](https://github.com/teranos/QNTX/blob/main/pulse/async/job.go#L13)


<table>
<tr>
<th>Go Source</th>
<th>TypeScript</th>
</tr>
<tr>
<td>

```go
type JobStatus string

const (
	JobStatusCancelled JobStatus = "cancelled"
	JobStatusCompleted JobStatus = "completed"
	JobStatusFailed JobStatus = "failed"
	JobStatusPaused JobStatus = "paused"
	JobStatusQueued JobStatus = "queued"
	JobStatusRunning JobStatus = "running"
)
```

</td>
<td>

```typescript
export type JobStatus = 'cancelled' | 'completed' | 'failed' | 'paused' | 'queued' | 'running';
```

</td>
</tr>
</table>

## Progress

**Source**: [`pulse/async/job.go:47`](https://github.com/teranos/QNTX/blob/main/pulse/async/job.go#L47)


<table>
<tr>
<th>Go Source</th>
<th>TypeScript</th>
</tr>
<tr>
<td>

```go
type Progress struct {
	Current int `json:"current"`
	Total int `json:"total"`
}
```

</td>
<td>

```typescript
export interface Progress {
  /** Completed operations */
  current: number;
  /** Total operations */
  total: number;
}
```

</td>
</tr>
</table>

## PulseState

**Source**: [`pulse/async/job.go:36`](https://github.com/teranos/QNTX/blob/main/pulse/async/job.go#L36)


<table>
<tr>
<th>Go Source</th>
<th>TypeScript</th>
</tr>
<tr>
<td>

```go
type PulseState struct {
	CallsThisMinute int `json:"calls_this_minute"`
	CallsRemaining int `json:"calls_remaining"`
	SpendToday float64 `json:"spend_today"`
	SpendThisMonth float64 `json:"spend_this_month"`
	BudgetRemaining float64 `json:"budget_remaining"`
	IsPaused bool `json:"is_paused"`
	PauseReason string `json:"pause_reason,omitempty"`
}
```

</td>
<td>

```typescript
export interface PulseState {
  calls_this_minute: number;
  calls_remaining: number;
  spend_today: number;
  spend_this_month: number;
  budget_remaining: number;
  is_paused: boolean;
  /** "budget_exceeded", "rate_limit", "user_requested" */
  pause_reason?: string;
}
```

</td>
</tr>
</table>

## QueueStats

**Source**: [`pulse/async/queue.go:329`](https://github.com/teranos/QNTX/blob/main/pulse/async/queue.go#L329)


<table>
<tr>
<th>Go Source</th>
<th>TypeScript</th>
</tr>
<tr>
<td>

```go
type QueueStats struct {
	Queued int `json:"queued"`
	Running int `json:"running"`
	Paused int `json:"paused"`
	Completed int `json:"completed"`
	Failed int `json:"failed"`
	Total int `json:"total"`
}
```

</td>
<td>

```typescript
export interface QueueStats {
  queued: number;
  running: number;
  paused: number;
  completed: number;
  failed: number;
  total: number;
}
```

</td>
</tr>
</table>

## SystemMetrics

**Source**: [`pulse/async/system_metrics.go:8`](https://github.com/teranos/QNTX/blob/main/pulse/async/system_metrics.go#L8)


<table>
<tr>
<th>Go Source</th>
<th>TypeScript</th>
</tr>
<tr>
<td>

```go
type SystemMetrics struct {
	WorkersActive int `json:"workers_active"`
	WorkersTotal int `json:"workers_total"`
	MemoryUsedGB float64 `json:"memory_used_gb"`
	MemoryTotalGB float64 `json:"memory_total_gb"`
	MemoryPercent float64 `json:"memory_percent"`
	JobsQueued int `json:"jobs_queued"`
	JobsRunning int `json:"jobs_running"`
}
```

</td>
<td>

```typescript
export interface SystemMetrics {
  /** Number of workers currently executing jobs */
  workers_active: number;
  /** Total configured workers */
  workers_total: number;
  /** Current memory usage in GB */
  memory_used_gb: number;
  /** Total system memory in GB */
  memory_total_gb: number;
  /** Memory utilization percentage */
  memory_percent: number;
  /** Jobs waiting in queue */
  jobs_queued: number;
  /** Jobs currently executing */
  jobs_running: number;
}
```

</td>
</tr>
</table>

## WorkerPoolConfig

**Source**: [`pulse/async/worker.go:88`](https://github.com/teranos/QNTX/blob/main/pulse/async/worker.go#L88)


<table>
<tr>
<th>Go Source</th>
<th>TypeScript</th>
</tr>
<tr>
<td>

```go
type WorkerPoolConfig struct {
	Workers int `json:"workers"`
	PollInterval time.Duration `json:"poll_interval"`
	PauseOnBudget bool `json:"pause_on_budget"`
	GracefulStartPhase time.Duration `json:"graceful_start_phase"`
}
```

</td>
<td>

```typescript
export interface WorkerPoolConfig {
  /** Number of concurrent workers */
  workers: number;
  /** How often to check for new jobs */
  poll_interval: number;
  /** Pause jobs when budget exceeded */
  pause_on_budget: boolean;
  /** Duration of each graceful start phase (default: 5min, test: 10s) */
  graceful_start_phase: number;
}
```

</td>
</tr>
</table>
