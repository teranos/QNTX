# Code generated by code/typegen from Go source. DO NOT EDIT.
# Regenerate with: make types
# Source package: types

"""types module

Generated from Go package: types

This module contains auto-generated type definitions.
All types are Python dataclasses compatible with JSON serialization.
"""

from __future__ import annotations

from dataclasses import dataclass
from typing import Any

# As represents an attestation - a verifiable claim about subjects,
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#as
@dataclass
class As:
    # ASID: AS + UUID | required
    id: str
    # Entities being attested about | required, min=1
    subjects: list[str]
    # What is being claimed | required, min=1
    predicates: list[str]
    # Optional "of" context | required, min=1
    contexts: list[str]
    # Who made the attestation | required, min=1
    actors: list[str]
    # When attestation was made | required
    timestamp: str
    # How attestation was created | required
    source: str
    # Database creation time
    created_at: str
    # Arbitrary JSON
    attributes: dict[str, Any] | None = None

# AsCommand represents the parsed CLI command for creating attestations
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#ascommand
@dataclass
class AsCommand:
    # Entities being attested about
    subjects: list[str]
    # What is being claimed (optional, defaults to ["_"])
    predicates: list[str]
    # Optional "of" context (defaults to ["_"])
    contexts: list[str]
    # Who made the attestation (optional, uses default)
    actors: list[str]
    # When attestation was made (optional, uses now)
    timestamp: str
    # Arbitrary JSON
    attributes: dict[str, Any] | None = None

# AxDebug provides debugging information for ax queries
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#axdebug
@dataclass
class AxDebug:
    execution_time_ms: int
    original_filter: AxFilter
    database_row_count: int
    sql_query: str | None = None
    sql_args: list[Any] | None = None
    expanded_filter: AxFilter | None = None
    alias_expansions: dict[str, list[str]] | None = None

# AxFilter represents the parsed CLI command for querying attestations
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#axfilter
@dataclass
class AxFilter:
    # Specific entities to ask about
    subjects: list[str]
    # What predicates to match (with fuzzy)
    predicates: list[str]
    # What contexts to match
    contexts: list[str]
    # Filter by specific actors
    actors: list[str]
    # Maximum results
    limit: int
    # Output format: table, json
    format: str
    # Actions to perform after query: ex csv, summarize, etc
    so_actions: list[str]
    # Temporal range start
    time_start: str | None = None
    # Temporal range end
    time_end: str | None = None
    # Temporal comparison (e.g., "over 5y")
    over_comparison: OverFilter | None = None

# AxResult represents the result of an ax query
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#axresult
@dataclass
class AxResult:
    # All matching attestations
    attestations: list[As]
    # Identified conflicts
    conflicts: list[Conflict]
    # Aggregated information
    summary: AxSummary
    # Output format for display
    format: str
    # Debug information (verbose mode)
    debug: AxDebug | None = None

# AxSummary provides aggregated information about ax results
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#axsummary
@dataclass
class AxSummary:
    total_attestations: int
    unique_subjects: dict[str, int]
    unique_predicates: dict[str, int]
    unique_contexts: dict[str, int]
    unique_actors: dict[str, int]

# CompletionItem represents an autocomplete suggestion
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#completionitem
@dataclass
class CompletionItem:
    label: str
    # predicate, subject, context, actor, keyword, symbol
    kind: str
    insert_text: str
    # For ranking
    sort_text: str
    detail: str | None = None
    documentation: str | None = None

# Conflict represents conflicting attestations
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#conflict
@dataclass
class Conflict:
    subject: str
    predicate: str
    context: str
    attestations: list[As]
    # "conflict", "evolution", "verification", "no_conflict"
    resolution: str

# OverFilter represents temporal comparison for "over X years/months" queries
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#overfilter
@dataclass
class OverFilter:
    # The numeric value (e.g., 5 for "5y")
    value: float
    # The unit: "y" for years, "m" for months
    unit: str
    # Comparison operator: "over" means >=
    operator: str

# TypeDef defines a QNTX domain type with display metadata and semantic information.
# Documentation: https://github.com/teranos/QNTX/blob/main/docs/types/types.md#typedef
@dataclass
class TypeDef:
    # Type identifier (e.g., "commit", "author")
    name: str
    # Human-readable label for UI (e.g., "Commit", "Author")
    label: str
    # Hex color code for graph visualization (e.g., "#34495e")
    color: str
    # Whether this type is being phased out
    deprecated: bool
    # Visual opacity (0.0-1.0), nil defaults to 1.0
    opacity: float | None = None

__all__ = [
    "As",
    "AsCommand",
    "AxDebug",
    "AxFilter",
    "AxResult",
    "AxSummary",
    "CompletionItem",
    "Conflict",
    "OverFilter",
    "TypeDef",
]
